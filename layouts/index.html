<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="no-js ie6"><![endif]-->
<!--[if IE 7 ]><html class="no-js ie7"><![endif]-->
<!--[if IE 8 ]><html class="no-js ie8"><![endif]-->
<!--[if IE 9 ]><html class="no-js ie9"><![endif]-->
<!--[if (gt IE 9)|!(IE)]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,maximum-scale=1">
    
      
        <title>Layouts - Plots</title>
      
      
      
      
        <meta name="author" content="Thomas Breloff">
      
    
    <meta property="og:url" content="None">
    <meta property="og:title" content="Plots">
    <meta property="og:image" content="None/../">
    <meta name="apple-mobile-web-app-title" content="Plots">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <link rel="icon" type="image/x-icon" href="../assets/images/favicon-e565ddfa3b.ico">
    <style>
      @font-face {
      	font-family: 'Icon';
      	src: url('../assets/fonts/icon.eot?52m981');
      	src: url('../assets/fonts/icon.eot?#iefix52m981')
               format('embedded-opentype'),
      		   url('../assets/fonts/icon.woff?52m981')
               format('woff'),
      		   url('../assets/fonts/icon.ttf?52m981')
               format('truetype'),
      		   url('../assets/fonts/icon.svg?52m981#icon')
               format('svg');
      	font-weight: normal;
      	font-style: normal;
      }
    </style>
    <link rel="stylesheet" href="../assets/stylesheets/application-a422ff04cc.css">
    
      <link rel="stylesheet" href="../assets/stylesheets/palettes-05ab2406df.css">
    
    
      
      
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700|Ubuntu+Mono">
      <style>
        body, input {
          font-family: 'Ubuntu', Helvetica, Arial, sans-serif;
        }
        pre, code {
          font-family: 'Ubuntu Mono', 'Courier New', 'Courier', monospace;
        }
      </style>
    
    
      <link rel="stylesheet" href="../tables.css">
    
    <script src="../assets/javascripts/modernizr-4ab42b99fd.js"></script>
    
  </head>
  
  
  
  <body class="palette-primary-deep-orange palette-accent-indigo">
    
      
      
    
    <div class="backdrop">
      <div class="backdrop-paper"></div>
    </div>
    <input class="toggle" type="checkbox" id="toggle-drawer">
    <input class="toggle" type="checkbox" id="toggle-search">
    <label class="toggle-button overlay" for="toggle-drawer"></label>
    <header class="header">
      <nav aria-label="Header">
  <div class="bar default">
    <div class="button button-menu" role="button" aria-label="Menu">
      <label class="toggle-button icon icon-menu" for="toggle-drawer">
        <span></span>
      </label>
    </div>
    <div class="stretch">
      <div class="title">
        
          <span class="path">
            
          </span>
        
        Layouts
      </div>
    </div>
    
    
      
      <div class="button button-github" role="button" aria-label="GitHub">
        <a href="https://github.com/tbreloff" title="@tbreloff on GitHub" target="_blank" class="toggle-button icon icon-github"></a>
      </div>
    
    <div class="button button-search" role="button" aria-label="Search">
      <label class="toggle-button icon icon-search" title="Search" for="toggle-search"></label>
    </div>
  </div>
  <div class="bar search">
    <div class="button button-close" role="button" aria-label="Close">
      <label class="toggle-button icon icon-back" for="toggle-search"></label>
    </div>
    <div class="stretch">
      <div class="field">
        <input class="query" type="text" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck>
      </div>
    </div>
    <div class="button button-reset" role="button" aria-label="Search">
      <button class="toggle-button icon icon-close" id="reset-search"></button>
    </div>
  </div>
</nav>
    </header>
    <main class="main">
      
      <div class="drawer">
        <nav aria-label="Navigation">
  
  <a href="https://github.com/tbreloff/Plots.jl" class="project">
    <div class="banner">
      
      <div class="name">
        <strong>
          Plots
          <span class="version">
            
          </span>
        </strong>
        
          <br>
          tbreloff/Plots.jl
        
      </div>
    </div>
  </a>
  <div class="scrollable">
    <div class="wrapper">
      
        <ul class="repo">
          <li class="repo-download">
            
            <a href="https://github.com/tbreloff/Plots.jl/archive/master.zip" target="_blank" title="Download" data-action="download">
              <i class="icon icon-download"></i> Download
            </a>
          </li>
          <li class="repo-stars">
            <a href="https://github.com/tbreloff/Plots.jl/stargazers" target="_blank" title="Stargazers" data-action="star">
              <i class="icon icon-star"></i> Stars
              <span class="count">&ndash;</span>
            </a>
          </li>
        </ul>
        <hr>
      
      <div class="toc">
        <ul>
          
            
  <li>
    <a class="" title="Home" href="..">
      Home
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Installation" href="../install/">
      Installation
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Backends" href="../backends/">
      Backends
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Basics" href="../basics/">
      Basics
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Input Data" href="../input_data/">
      Input Data
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Attributes" href="../attributes/">
      Attributes
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Colors" href="../colors/">
      Colors
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Output" href="../output/">
      Output
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Animations" href="../animations/">
      Animations
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Internals" href="../pipeline/">
      Internals
    </a>
    
  </li>

          
            
  <li>
    <a class="current" title="Layouts" href="./">
      Layouts
    </a>
    
      
        
      
      
        <ul>
          
            <li class="anchor">
              <a title="Simple Layouts" href="#simple-layouts">
                Simple Layouts
              </a>
            </li>
          
            <li class="anchor">
              <a title="Advanced Layouts" href="#advanced-layouts">
                Advanced Layouts
              </a>
            </li>
          
        </ul>
      
    
  </li>

          
            
  <li>
    <a class="" title="Recipes" href="../recipes/">
      Recipes
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Ecosystem" href="../ecosystem/">
      Ecosystem
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Plots v0.7" href="../plots_v0.7/">
      Plots v0.7
    </a>
    
  </li>

          
            
  <li>
    <a class="" title="Supported Attributes" href="../supported/">
      Supported Attributes
    </a>
    
  </li>

          
            
  <li>
    <span class="section">Examples</span>
    <ul>
      
        
  <li>
    <a class="" title="PyPlot" href="../examples/pyplot/">
      PyPlot
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="GR" href="../examples/gr/">
      GR
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="PlotlyJS" href="../examples/plotlyjs/">
      PlotlyJS
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="PGFPlots" href="../examples/pgfplots/">
      PGFPlots
    </a>
    
  </li>

      
        
  <li>
    <a class="" title="UnicodePlots" href="../examples/unicodeplots/">
      UnicodePlots
    </a>
    
  </li>

      
    </ul>
  </li>

          
        </ul>
        
          <hr>
          <span class="section">The author</span>
          <ul>
            
            
              
              <li>
                <a href="https://github.com/tbreloff" target="_blank" title="@tbreloff on GitHub">
                  @tbreloff on GitHub
                </a>
              </li>
            
          </ul>
        
      </div>
    </div>
  </div>
</nav>
      </div>
      <article class="article">
        <div class="wrapper">
          
          <h1 id="layouts">Layouts</h1>
<p>As of v0.7.0, Plots has taken control of subplot positioning, allowing complex, nested grids of subplots and components.  Care has been taken to keep the framework flexible and generic, so that backends need only support the ability to precisely define the absolute position of a subplot, and they get the full power of nesting, plot area alignment, and more.  Just set the <code>layout</code> keyword in a call to <code>plot(...)</code></p>
<p>It's helpful at this point to review terminology:</p>
<ul>
<li><strong>Plot</strong>: The whole figure/window</li>
<li><strong>Subplot</strong>: One subplot, containing a title, axes, colorbar, legend, and plot area.</li>
<li><strong>Axis</strong>: One axis of a subplot, containing axis guide (label), tick labels, and tick marks.</li>
<li><strong>Plot Area</strong>: The part of a subplot where the data is shown... contains the series, grid lines, etc.</li>
<li><strong>Series</strong>: One distinct visualization of data. (For example: a line or a set of markers)</li>
</ul>
<hr />
<h4 id="simple-layouts">Simple Layouts</h4>
<p>Pass an integer to <code>layout</code> to allow it to automatically compute a grid size for that many subplots:</p>
<div class="code"><pre><span class="c"># create a 2x2 grid, and map each of the 4 series to one of the subplots</span>
<span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">layout</span> <span class="o">=</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>


<p><img alt="" src="../examples/img/layouts1.png" /></p>
<p>Pass a tuple to <code>layout</code> to create a grid of that size:</p>
<div class="code"><pre><span class="c"># create a 4x1 grid, and map each of the 4 series to one of the subplots</span>
<span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">layout</span> <span class="o">=</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>


<p><img alt="" src="../examples/img/layouts2.png" /></p>
<p>More complex grid layouts can be created with the <code>grid(...)</code> constructor:</p>
<div class="code"><pre><span class="n">plot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span> <span class="n">layout</span> <span class="o">=</span> <span class="n">grid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="n">heights</span><span class="o">=</span><span class="p">[</span><span class="mf">0.1</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.4</span><span class="p">,</span><span class="mf">0.1</span><span class="p">]))</span>
</pre></div>


<p><img alt="" src="../examples/img/layouts3.png" /></p>
<hr />
<h4 id="advanced-layouts">Advanced Layouts</h4>
<p>The <code>@layout</code> macro is the easiest way to define complex layouts, using Julia's <a href="http://docs.julialang.org/en/release-0.4/manual/arrays/#concatenation">multidimensional Array construction</a> as the basis for a custom layout syntax.  Precise sizing can be acheived with curly brackets, otherwise the free space is equally split between the <strong>plot areas</strong> of subplots.</p>
<div class="code"><pre><span class="n">l</span> <span class="o">=</span> <span class="p">@</span><span class="n">layout</span> <span class="p">[</span>  <span class="n">a</span><span class="p">{</span><span class="mf">0.3</span><span class="n">w</span><span class="p">}</span> <span class="p">[</span><span class="n">grid</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
                         <span class="n">b</span><span class="p">{</span><span class="mf">0.2</span><span class="n">h</span><span class="p">}</span> <span class="p">]]</span>
<span class="n">plot</span><span class="p">(</span>
    <span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">11</span><span class="p">),</span>
    <span class="n">layout</span> <span class="o">=</span> <span class="n">l</span><span class="p">,</span> <span class="n">legend</span> <span class="o">=</span> <span class="n">false</span><span class="p">,</span> <span class="n">seriestype</span> <span class="o">=</span> <span class="p">[:</span><span class="n">bar</span> <span class="p">:</span><span class="n">scatter</span> <span class="p">:</span><span class="n">path</span><span class="p">],</span>
    <span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;(</span><span class="si">$</span><span class="s">i)&quot;</span> <span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">11</span><span class="p">]</span><span class="o">&#39;</span><span class="p">,</span> <span class="n">titleloc</span> <span class="o">=</span> <span class="p">:</span><span class="n">right</span><span class="p">,</span> <span class="n">titlefont</span> <span class="o">=</span> <span class="n">font</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>


<p><img alt="" src="../examples/img/layouts4.png" /></p>
<hr />
<p>Create inset (floating) subplots using the <code>inset_subplots</code> attribute. <code>inset_subplots</code> takes a list of (parent_layout, BoundingBox) tuples, where the bounding box is relative to the parent.</p>
<p>Use <code>px</code>/<code>mm</code>/<code>inch</code> for absolute coords, <code>w</code>/<code>h</code> for percentage relative to the parent. Origin is top-left. <code>h_anchor</code>/<code>v_anchor</code> define what the <code>x</code>/<code>y</code> inputs of the bounding box refer to.</p>
<div class="code"><pre><span class="c"># boxplot is defined in StatPlots</span>
<span class="k">using</span> <span class="n">StatPlots</span>
<span class="n">gr</span><span class="p">(</span><span class="n">leg</span><span class="o">=</span><span class="n">false</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="p">:</span><span class="n">lightgrey</span><span class="p">)</span>

<span class="c"># Create a filled contour and boxplot side by side.</span>
<span class="n">plot</span><span class="p">(</span><span class="n">contourf</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">20</span><span class="p">)),</span> <span class="n">boxplot</span><span class="p">(</span><span class="n">rand</span><span class="p">(</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="mi">1000</span><span class="p">),</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">)))</span>

<span class="c"># Add a histogram inset on the heatmap.</span>
<span class="c"># We set the (optional) position relative to bottom-right of the 1st subplot.</span>
<span class="c"># The call is `bbox(x, y, width, height, origin...)`, where numbers are treated as &quot;percent of parent&quot;</span>
<span class="n">histogram!</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">1000</span><span class="p">),</span> <span class="n">inset</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">bbox</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.05</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.25</span><span class="p">,:</span><span class="n">bottom</span><span class="p">,:</span><span class="n">right</span><span class="p">)),</span> <span class="n">ticks</span><span class="o">=</span><span class="n">nothing</span><span class="p">,</span> <span class="n">subplot</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">bg_inside</span><span class="o">=</span><span class="n">nothing</span><span class="p">)</span>

<span class="c"># Add sticks floating in the window (inset relative to the window, as opposed to being relative to a subplot)</span>
<span class="n">sticks!</span><span class="p">(</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span> <span class="n">inset</span> <span class="o">=</span> <span class="n">bbox</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="mi">200</span><span class="n">px</span><span class="p">,</span><span class="mi">100</span><span class="n">px</span><span class="p">,:</span><span class="n">center</span><span class="p">),</span> <span class="n">ticks</span><span class="o">=</span><span class="n">nothing</span><span class="p">,</span> <span class="n">subplot</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>


<p><img alt="" src="https://cloud.githubusercontent.com/assets/933338/18135883/6ba2252c-6f71-11e6-89b3-e32337259795.png" /></p>
          <aside class="copyright" role="note">
            
              Copyright &copy; 2015-2016 Thomas Breloff &ndash;
            
            Documentation built with
            <a href="http://www.mkdocs.org" target="_blank">MkDocs</a>
            using the
            <a href="http://squidfunk.github.io/mkdocs-material/" target="_blank">
              Material
            </a>
            theme.
          </aside>
          
            <footer class="footer">
              
  <nav class="pagination" aria-label="Footer">
    <div class="previous">
      
        <a href="../pipeline/" title="Internals">
          <span class="direction">
            Previous
          </span>
          <div class="page">
            <div class="button button-previous" role="button" aria-label="Previous">
              <i class="icon icon-back"></i>
            </div>
            <div class="stretch">
              <div class="title">
                Internals
              </div>
            </div>
          </div>
        </a>
      
    </div>
    <div class="next">
      
        <a href="../recipes/" title="Recipes">
          <span class="direction">
            Next
          </span>
          <div class="page">
            <div class="stretch">
              <div class="title">
                Recipes
              </div>
            </div>
            <div class="button button-next" role="button" aria-label="Next">
              <i class="icon icon-forward"></i>
            </div>
          </div>
        </a>
      
    </div>
  </nav>

            </footer>
          
        </div>
      </article>
      <div class="results" role="status" aria-live="polite">
        <div class="scrollable">
          <div class="wrapper">
            <div class="meta"></div>
            <div class="list"></div>
          </div>
        </div>
      </div>
    </main>
    <script>
      var base_url = '..';
      var repo_id  = 'tbreloff/Plots.jl';
    </script>
    <script src="../assets/javascripts/application-997097ee0c.js"></script>
    
      <script src="../mathjax-config.js"></script>
    
      <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
    
    
  </body>
</html>